<div class="reporte-wrapper">
  <div class="reporte-header">
    <mat-icon>favorite</mat-icon>
    <h2>Reporte de favoritos por propiedad</h2>
  </div>

  <div *ngIf="hasData; else noData" class="reporte-contenido">
    <div class="chart-card">
      <canvas
        baseChart
        [data]="barChartData"
        [type]="barChartType"
        [options]="barChartOptions"
        [legend]="barChartLegend">
      </canvas>
    </div>

    <div class="tabla-card">
      <h3>Detalle</h3>
      <table>
        <thead>
          <tr>
            <th>ID Propiedad</th>
            <th>Cantidad de favoritos</th>
            <th>Ãšltima fecha agregada</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of dataTabla">
            <td>{{ item.idPropiedad }}</td>
            <td>{{ item.cantidadFavoritos }}</td>
            <td>{{ item.ultimaFecha }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <ng-template #noData>
    <div class="sin-datos">
      <p>No hay datos suficientes para generar el reporte.</p>
    </div>
  </ng-template>
</div>
