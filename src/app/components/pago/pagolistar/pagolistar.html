<!-- pagolistar.component.html -->
<div class="container">
  <h2>ğŸ’³ GestiÃ³n de Pagos</h2>

  <div class="payments-grid">
    <!-- Card de Pago -->
    @for (element of pagos; track element.idPago) {
    <div class="payment-card">
      
      <!-- Header con icono -->
      <div class="card-header">
        <div class="card-icon">
          <mat-icon>payment</mat-icon>
        </div>
        <div class="card-title">
          <h3>Pago #{{ element.idPago }}</h3>
          <span class="card-id">ID: {{ element.idPago }}</span>
        </div>
      </div>

      <!-- Monto Principal -->
      <div class="payment-amount">
        <div class="amount-label">ğŸ’° Monto</div>
        <div class="amount-value">S/. {{ element.monto | number: '1.2-2' }}</div>
      </div>

      <!-- MÃ©todo de pago -->
      <span class="method-badge" [ngClass]="
        element.metodoPago === 'EFECTIVO' ? 'method-efectivo' :
        element.metodoPago === 'TARJETA' ? 'method-tarjeta' :
        'method-transferencia'
      ">
        {{ element.metodoPago === 'EFECTIVO' ? 'ğŸ’µ' : element.metodoPago === 'TARJETA' ? 'ğŸ’³' : 'ğŸ¦' }}
        {{ element.metodoPago }}
      </span>

      <!-- Detalles -->
      <div class="card-details">
        <div class="detail">
          <div class="detail-label">ğŸ“… Fecha de pago</div>
          <div class="detail-value">{{ element.fechaPago | date: 'dd/MM/yyyy' }}</div>
        </div>

        <div class="detail">
          <div class="detail-label">#ï¸âƒ£ Contrato</div>
          <div class="detail-value">{{ element.contrato.idContrato }}</div>
        </div>
      </div>

      <!-- Info del usuario -->
      <div class="user-info">
        <div class="user-label">ğŸ‘¤ Usuario</div>
        <div class="user-name">{{ element.usuario.nombre }} {{ element.usuario.apellido }}</div>
      </div>

      <!-- Info del contrato -->
      <div class="contract-info">
        <div class="contract-label">ğŸ  Propiedad</div>
        <div class="contract-value">{{ element.contrato.propiedad.titulo }}</div>
      </div>

      <!-- Acciones -->
      <div class="card-footer">
        <button 
          matButton 
          [routerLink]="['edits', element.idPago]"
          title="Editar pago">
          <mat-icon>edit</mat-icon>
        </button>
        <button 
          matButton 
          (click)="eliminar(element.idPago)"
          title="Eliminar pago">
          <mat-icon>delete</mat-icon>
        </button>
      </div>

    </div>
    }
  </div>

  <!-- BotÃ³n Registrar -->
  <div class="actions">
    <button mat-raised-button routerLink="/pagos/nuevo">
      <mat-icon>add_circle</mat-icon>
      Registrar Pago
    </button>
  </div>

</div>